
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Remote Keyboard</title>

		<link href="/bootstrap-combined.min.css" rel="stylesheet">
		
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }

      textarea {
          width: 100%;
      }

      footer {
        text-align: center;
      }
    </style>
    
    <script src="/jquery.min.js"></script>
    <script type="text/javascript">
		$(document).ready(function() {
			var i = 1;
			var sleepInterval;
			
		  function preventSleep() {
				$.ajax({
				  url: 'no-sleep',
				  type: 'GET'
				}).done(function() {
					i++;
					
					if (i>8){
						clearInterval(sleepInterval);
					} 
				});
		  }
		  
		  sleepInterval = setInterval(preventSleep, 15000)
		  
		  $('#submit').click(function(){
		  	var data = $('#form').serialize();
		  	
				$.ajax({
				  type: 'POST',
				  url: '/index.html',
				  data: data,
				  success: function(){
				  	$('#text').val('');
				  }
				});
		  	
		  	return false;
		  });
		});
    </script>

  </head>

  <body>

    <div class="container">

      <form id="form" action="/index.html" method="POST" accept-charset="UTF-8">
      <div class="hero-unit">
        <h1>Remote Keyboard</h1>
        <p>Write down and click the send button in order to send the text to your device.</p>
        

          <div class="controls">
            <textarea id="text" name="text" rows="5" autofocus></textarea>
          </div>
          
        
        <p><input id="submit" type="submit" class="btn btn-primary btn-large" value="Send" /></p>
      </div>
      </form>
      <hr>

      <footer>
        <p>&copy; Martin Koterle, Kristjan Ugrin, 2012</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>
